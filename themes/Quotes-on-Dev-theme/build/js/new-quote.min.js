jQuery(function(e){e(".new-quote-button").on("click",function(o){o.preventDefault(),e(".home-quotes").text(""),e.ajax({method:"GET",url:qod_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_vars.wpapi_nonce)}}).done(function(o){console.log(o),e(".home-quotes").html(`<div class="quote-para">${o[0].content.rendered}</div> <div class="quote-author">${o[0].title.rendered}</div><span class="quote-source"> ${o[0]._qod_quote_source}</span> `),history.pushState(o,"",o[0].slug)})}),$quoteSubForm=e(".quote-submission-form"),$quoteSubForm.on("submit",function(o){if(o.preventDefault(),$author=e("#author").val(),$quote=e("#quote").val(),$source=e("#source").val(),$sourceUrl=e("#source-url").val(),$errorMessage=e("#error-message"),$successMessage=e("#success-message"),""==$author||""==$quote)$quoteSubForm.trigger("reset"),$errorMessage.fadeIn().html("The quote wasn't submitted. Please fill in the required fields."),setTimeout(function(){$errorMessage.fadeOut()},2e3);else{const o={title:$author,content:$quote,_qod_quote_source:$source,_qod_quote_source_url:$sourceUrl,post_status:"pending"};e.ajax({method:"POST",url:qod_vars.rest_url+"wp/v2/posts",data:o,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_vars.wpapi_nonce)}}).done(function(e){console.log("posted"),$quoteSubForm.trigger("reset"),$successMessage.fadeIn().html("Quote submitted successfully!"),setTimeout(function(){$successMessage.fadeOut()},2e3)})}})});