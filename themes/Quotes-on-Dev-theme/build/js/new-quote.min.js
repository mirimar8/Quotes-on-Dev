jQuery(function(e){const t=e(".home-quotes");e(".new-quote-button").on("click",function(o){o.preventDefault(),t.text(""),e.ajax({method:"GET",url:qod_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_vars.wpapi_nonce)}}).done(function(e){t.html(`<div class="quote-para">${e[0].content.rendered}</div>\n            <div class="entry-meta">\n                <div class="quote-author"> - ${e[0].title.rendered}</div>\n                <span>,</span>\n                <a class="quote-source-url" href="${e[0]._qod_quote_source_url}">\n                    <span class="quote-source">${e[0]._qod_quote_source} </span>\n                </a>\n            </div>`),history.pushState(e,"",qod_vars.home_url+"/"+e[0].slug)})});const o=e(".quote-submission-form");o.on("submit",function(t){t.preventDefault();const s=e("#author").val(),n=e("#quote").val(),u=e("#source").val(),r=e("#source-url").val(),a=e("#error-message"),d=e("#success-message");if(""===s||""===n)o.trigger("reset"),a.fadeIn().html("The quote was not submitted. Please fill in the required fields."),setTimeout(function(){a.fadeOut()},2e3);else{const t={title:s,content:n,_qod_quote_source:u,_qod_quote_source_url:r,post_status:"pending"};e.ajax({method:"POST",url:qod_vars.rest_url+"wp/v2/posts",data:t,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_vars.wpapi_nonce)}}).done(function(){o.trigger("reset"),d.fadeIn().html("The quote submitted successfully!"),setTimeout(function(){d.fadeOut()},2e3)})}})});