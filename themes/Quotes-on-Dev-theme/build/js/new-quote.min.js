jQuery(function(e){const o=e(".home-quotes");let t="",s="";e(".new-quote-button").on("click",function(u){u.preventDefault(),o.text(""),e.ajax({method:"GET",url:qod_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_vars.wpapi_nonce)}}).done(function(e){""!==e[0]._qod_quote_source_url&&""!==e[0]._qod_quote_source?(t=`<a class="quote-source-url" href="${e[0]._qod_quote_source_url}">\n                <span class="quote-source">${e[0]._qod_quote_source} </span></a>`,s=","):""===e[0]._qod_quote_source_url&&""!==e[0]._qod_quote_source?(t=`<span class="quote-source">${e[0]._qod_quote_source} </span>`,s=","):(t="",s=""),o.html(`<div class="quote-para">${e[0].content.rendered}</div>\n            <div class="entry-meta">\n                <div class="quote-author"> - ${e[0].title.rendered}</div>\n                ${s}${t}\n            </div>`),console.log(e[0]._qod_quote_source),history.pushState(e,"",qod_vars.home_url+"/"+e[0].slug)})});const u=e(".quote-submission-form");u.on("submit",function(o){o.preventDefault();const t=e("#author").val(),s=e("#quote").val(),r=e("#source").val(),n=e("#source-url").val(),a=e("#error-message"),c=e("#success-message");if(""===t||""===s)u.trigger("reset"),a.fadeIn().html("The quote was not submitted. Please fill in the required fields."),setTimeout(function(){a.fadeOut()},2e3);else{const o={title:t,content:s,_qod_quote_source:r,_qod_quote_source_url:n,post_status:"pending"};e.ajax({method:"POST",url:qod_vars.rest_url+"wp/v2/posts",data:o,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_vars.wpapi_nonce)}}).done(function(){u.trigger("reset"),c.fadeIn().html("The quote submitted successfully!"),setTimeout(function(){c.fadeOut()},2e3)})}})});